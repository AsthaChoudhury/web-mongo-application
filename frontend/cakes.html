<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="assets/css/style.css"/>
    
    <title>Recipe Page</title>
</head>
<body>
    <header class="header">
        <nav class="nav container">
            <a href="index.html" class="nav__logo">
                <img src="assets/img/logo.jpg" alt="" class="nav__logo-img" />
            </a>
            <div class="nav__menu" id="nav__menu">
                <ul class="nav__list">
                    <li class="nav__item">
                        <a href="index.html" class="nav__link active link">Home</a>
                    </li>
                    <li class="nav__item">
                        <a href="recipe.html" class="nav__link">Recipe</a>
                    </li>
                    <li class="nav__item">
                        <a href="conversion.html" class="nav__link">Conversion</a>
                    </li>
                    <li class="nav__item">
                        <a href="upload.html" class="nav__link">Upload</a>
                    </li>
                    <li class="nav__item">
                        <a href="about.html" class="nav__link">About us</a>
                    </li>
                </ul>

                
            </div>

            <div class="header__user-actions">
                <a href="wishlist.html" class="header__action-btn">
                    <img src="assets/img/heart.png" alt="">
                    <span class="count">3</span>
                </a>
                <a href="cart.html" class="header__action-btn">
                    <img src="assets/img/cart.png" alt="">
                    <span class="count">3</span>
                </a>
                <div class="header__auth-buttons">
                    <a href="login.html" class="header__login-btn">Login</a>
                    <a href="register.html" class="header__register-btn">Register</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="main">

        <section class="categories">
                <div class="swipe wrapper">
                    <a href="chocolate.html" class="cake_circle swiper__slide">
                        <img src="assets/img/chocolate.jpg" alt="" class="cake__icon">
                        <h3 class="cake__title">Chocolate cake</h3>
                    </a>
                    <a href="vanilla.html" class="cake__circle swiper__slide">
                        <img src="assets/img/vanilla.jpg" alt="" class="cake__icon">
                        <h3 class="cake__title">Vanilla cake</h3>
                    </a>
                </div>
            </div>
        </section>

    </main>
</body>
<script>
    document.getElementById('category-select').addEventListener('change', function() {
      const category = this.value;
  
      fetch(`/api/recipes?category=${category}`)
        .then(response => response.json())
        .then(data => {
          const recipeList = document.getElementById('recipe-list');
          recipeList.innerHTML = '';
  
          data.forEach(recipe => {
            const recipeItem = document.createElement('a');
            recipeItem.href = `${recipe.title.toLowerCase().replace(/\s+/g, '-')}.html`; 
            recipeItem.className = "cake_circle swiper__slide";
  
            recipeItem.innerHTML = `
              <img src="${recipe.image || 'assets/img/default.jpg'}" alt="" class="cake__icon">
              <h3 class="cake__title">${recipe.title.toUpperCase()}</h3>
            `;
  
            recipeList.appendChild(recipeItem);
          });
        })
        .catch(error => console.error('Error fetching recipes:', error));
    });
  </script>
  
</html>
